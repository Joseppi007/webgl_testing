<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>WebGL Test 0</title>
    <style>
      #cnv {
	  position: fixed;
	  left: 0px;
	  top: 0px;
	  z-index: -100;
      }
      .kow {
	  background-color: #fffc;
	  color: black;
	  padding: 8px;
      }
      .kow h1 {
	  text-align: center;
      }
      .kow .rose {
	  text-shadow: 0px 0px 2px white;
	  color: #f08;
      }
      .kow .other {
	  text-shadow: 0px 0px 2px #8ff;
	  color: #00f;
      }
      .kow .real {
	  text-shadow: 0px 0px 2px #f08;
	  color: #804;
      }
      .kow .slug {
	  text-shadow: 0px 0px 2px #f00;
	  color: #000;
      }
    </style>
  </head>
  <body>
    <canvas id="cnv" width="192" height="108"></canvas>
    <div class="kow">
      <h1>Website Having Atrocious Text Contrast And Things</h1>
      <hr/>
      <p>
	This website is kinda awful, having this wacky background changing color all the time. Why did I put text over that and intend for people to read it‽ Because text is for reading, that's why! No, you didn't answer my question. Oh, shoot. I just duplicated myself to conversate with. Ah shucks. That's annoying when that happens. What are you talking about? Don't worry about it. You'll stop existing soon enough. I just have to figure out how to do that… Are you trying to kill me‽ Uuuuhh… <em>yes?</em> <strong>!!!</strong> Don't be that way, please. This is annoying for me. This is <em>my</em> life we're talking about, here! Yeah, uh… Hang on, I think we should…<br/>
	<span class="rose">Rose: Ok, cool.</span><br/>
	<span class="other">???: What?</span><br/>
	<span class="rose">Rose: The Homestuck thing!</span><br/>
	<span class="other">???: I don't understand.</span><br/>
	<span class="rose">Rose: Using names and text colors to make things easier to read.</span><br/>
	<span class="other">???: Oh, ok.</span><br/>
	<span class="rose">Rose: What's your name, by the way?</span><br/>
	<span class="other">???: ???</span><br/>
	<span class="rose">Rose: Your… Name…</span><br/>
	<span class="other">???: My name is ???</span><br/>
	<span class="rose">Rose: Ok, let's not do a “Who’s on first” skit.</span><br/>
	<span class="other">???: I'm serious.</span><br/>
	<span class="rose">Rose: Yeah, I just don't want to make a big deal of it like we are now.</span><br/>
	<span class="rose">Rose: Hey, you sssstole my name and color D:&lt;</span><br/>
	<span class="rose">Rose: What are you talking about? <em>I’m</em> Rose!</span><br/>
	<span class="rose">Rose: We can’t <em>both</em> be Rose! That'ssss confusing!</span><br/>
	<span class="rose">Rose: Pick a different name, then.</span><br/>
	<span class="other">???: I thought you didn’t want to make a thing of names.</span><br/>
	<span class="rose">Rose: I don't.</span><br/>
	<span class="real"><em>Real</em> Rose: Yeah, I’m the one making a big deal of it.</span><br/>
	<span class="rose">Rose: Jegus, you <em>really</em> wan’t that name, don’t you…</span><br/>
	<span class="real"><em>Real</em> Rose: Hang on, sssso you know Homesssstuck, I know Homesssstuck, but ??? doesn't?</span><br/>
	<span class="rose">Rose: Yeah</span><br/>
	<span class="other">???: Mmmm-Hmmm</span><br/>
	<span class="real"><em>Real</em> Rose: Ok, I'm going to sssstop writing before I make too many… uh… people?</span><br/>
	<span class="real"><em>Real</em> Rose: I gotta find out why thissss happens sssso I can sssstop it…</span><br/>
	<span class="slug">slug: no</span><br/>
	<span class="real"><em>Real</em> Rose: :o It'ssss Sssslug!</span><br/>
	<span class="real"><em>Real</em> Rose: Long time no ssssee!</span><br/>
	<span class="slug">slug: i guess</span><br/>
	<span class="real"><em>Real</em> Rose: How’ve you been?</span><br/>
	<span class="slug">slug: i havent</span><br/>
	<span class="real"><em>Real</em> Rose: Interessssting…</span><br/>
	<span class="real"><em>Real</em> Rose: …uh, ok. I guessssssss that'ssss, uh…</span><br/>
	<span class="real"><em>Real</em> Rose: Wait, why did I sssstart doing thissss again?</span><br/>
	<span class="other">???: You wanted to write some text, then ended up in “conversation mode” with yourself.</span><br/>
	<span class="real"><em>Real</em> Rose: Oh, ok…</span><br/>
	<span class="real"><em>Real</em> Rose: Uh, what'ssss the deal with the information being locked up behind different people?</span><br/>
	<span class="real"><em>Real</em> Rose: …uh, oh…</span><br/>
	<span class="real"><em>Real</em> Rose: I, uh…</span><br/>
	<span><em>Real</em> Rose ceased pestering everybody.</span><br/>
	<span class="real"><em>Real</em> Rose: Argh, no! Don't do the Homesssstuck thing! It'ssss cringe!!!</span><br/>
	<span class="real"><em>Real</em> Rose: Who sssstarted thissss? Other Rose?</span><br/>
	<span class="rose">Rose: Yeah :)</span><br/>
	<span class="real"><em>Real</em> Rose: Nope! I’m out.</span><br/>
	<span class="rose">Rose: That's fine with me.</span><br/>
	<span class="other">???: Yeah, what's <em>her</em> problem?</span><br/>
	<span class="real"><em>Real</em> Rose: D:&lt;</span><br/>
	<span class="other">???: You're bad at leaving.</span><br/>
	<span class="rose">Rose: Minnesota goodbye.</span><br/>
	<span class="other">???: What?</span><br/>
	<span class="rose">Rose: Saying goodbye in Minnesota takes hours.</span><br/>
	<span class="other">???: Why?</span><br/>
	<span class="rose">Rose: Beats me!</span><br/>
      </p>
    </div>
    <script>
      cnv.width = window.innerWidth;
      cnv.height = window.innerHeight;
      let frame = 0;
      const ctx = cnv.getContext("webgl2");
      if (!ctx) { console.error("WebGL not supported by browser."); alert("WebGL not supported by browser!"); }
      ctx.clearColor(1, 0, 1, 1);
      //ctx.clear(ctx.COLOR_BUFFER_BIT);

      const program = ctx.createProgram();
      const fshader = ctx.createShader(ctx.FRAGMENT_SHADER);
      ctx.shaderSource(fshader, '\
precision highp float;\
uniform highp vec2 uResolution;\
uniform highp float uTime;\
\
void main() {\
    vec2 pos = gl_FragCoord.xy / uResolution.xy;\
    pos = pos * 2.0 - vec2(1.0, 1.0);\
    float d = sqrt(pos.x * pos.x * pos.x * pos.x + pos.y * pos.y);\
    float t = uTime;\
    if ( mod(d, 0.1) <= 0.05 ) {\
        float t = t - 10.0 * d;\
        gl_FragColor = vec4((1.0-sin(t/5.0))/2.0, (sin(t/2.0)+1.0)/2.0, (sin(t/11.0)+1.0)/2.0, 1.0);\
    } else {\
        float t = t + 10.0 * d;\
        gl_FragColor = vec4((sin(t/13.0)+1.0)/2.0, (1.0-sin(t/3.0))/2.0, (sin(t/7.0)+1.0)/2.0, 1.0);\
    }\
}');
      ctx.compileShader(fshader);
      ctx.attachShader(program, fshader);
      const vshader = ctx.createShader(ctx.VERTEX_SHADER);
      ctx.shaderSource(vshader, '\
attribute vec4 aVertexPosition;\
\
void main() {\
   gl_Position = aVertexPosition;\
}');
      ctx.compileShader(vshader);
      ctx.attachShader(program, vshader);
      ctx.linkProgram(program);
      ctx.useProgram(program);
      uResolution = ctx.getUniformLocation(program, "uResolution");
      ctx.uniform2f(uResolution, ctx.canvas.width, ctx.canvas.height);
      uTime = ctx.getUniformLocation(program, "uTime");
      ctx.uniform1f(uTime, frame/24);

      const vertexBuffer = ctx.createBuffer();
      ctx.bindBuffer(ctx.ARRAY_BUFFER, vertexBuffer);
      const vertexArray = [
         1.0,  1.0,
        -1.0,  1.0,
         1.0, -1.0,
        -1.0, -1.0
      ];
      ctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(vertexArray), ctx.STATIC_DRAW);
      ctx.vertexAttribPointer(ctx.getAttribLocation(program, 'aVertexPosition'), 2, ctx.FLOAT, false, 0, 0);
      ctx.enableVertexAttribArray(ctx.getAttribLocation(program, 'aVertexPosition'));
      ctx.drawArrays(ctx.TRIANGLE_STRIP, 0, 4);

      setInterval(()=>{
	  frame++;
          cnv.width = window.innerWidth;
          cnv.height = window.innerHeight;
	  ctx.viewport(0, 0, cnv.width, cnv.height);
          ctx.uniform2f(uResolution, cnv.width, cnv.height);
          ctx.uniform1f(uTime, frame/24);
          ctx.drawArrays(ctx.TRIANGLE_STRIP, 0, 4);
      }, 1000 / 24);

    </script>
  </body>
</html>
